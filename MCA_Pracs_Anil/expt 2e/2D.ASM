;EXPT 2E: ALP TO COUNT THE EXTERNAL PULSES. ASSUMING THAT THE CLOCK PULSES ARE FED 
;INTO PIN  T1(P3.5),COUNTER 1 IN MODE2 
;NAME: ANIL RAJPUROHIT
;BATCH: B2, ROLL NO :312046
;DATE OF PERFORMANCE: 11/07/18
		
			ORG 0000H
				
			MOV TMOD, #060H			;SET TIMER 1 AS COUNTER
			MOV TL1,  #00H			;INITIALISE TL1 TO 00
			MOV P3 ,  #0b00100000	;SET P3.5 AS AN INPUT
	 TOL:   SETB TR1
	  L1:	MOV A,TL1				;MOVE CONTETS OF TL1 TO ACCUMALATOR OR STORE 00 TO ACC
			MOV P2,A				;MOVE CONTETS OF  ACCUMALATOR TO PORT 2
			JNB TF1,L1				;JUMP IF NOT TF1!=0(tf1 overflows)
			CLR TR1
			CLR TF1
			SJMP TOL           	 	;SHORT JUMP LOOP TO 'TOL'
			
			END
			